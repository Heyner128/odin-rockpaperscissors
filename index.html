<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Bakbak+One" />
    <link rel="stylesheet" href="style.css" />
    
    <title>Rock paper scissors</title>
</head>
<body>
    <div id="btnsContainer">
        <button id="playerRock" class="gameBtn"><i id="imagesRock" class="fas fa-hand-rock"></i></button>
        <button id="playerPaper" class="gameBtn"><i id="imagesPaper" class="fas fa-hand-paper"></i></button>
        <button id="playerScissors" class="gameBtn"><i id="imagesScissors" class="fas fa-hand-scissors"></i></button>
        <button id="reset" class="gameBtn"><i id="imagesReset" class="fas fa-redo"></i></button>
    </div>

    <div id="textContainer">

        <div id="resultGlobal"></div>
        <div id="computerMove">Select one</div>
        <div id="result">Select one</div>
        <div id="rounds">Round: 1</div>
        <div id="playerWins">Player : 0</div>
        <div id="computerWins">Computer : 0</div>
    </div>
    <script>

        function computerPlay() {
            const play = Math.ceil(Math.random()*3);
            return play==1?'Rock':play==2?'Paper':'Scissors';
        }

        function declareWinner(playerSelection, computerSelection) {
            const playerMove = playerSelection.toLowerCase();
            const computerMove = computerSelection.toLowerCase();

            return playerMove=='rock'&&computerMove=='paper'?'Lose':playerMove=='rock'&&computerMove=='scissors'?'Win':playerMove=='paper'&&computerMove=='scissors'?'Lose':playerMove=='paper'&&computerMove=='rock'?'Win':playerMove=='scissors'&&computerMove=='rock'?'Lose':playerMove=='scissors'&&computerMove=='paper'?'Win':playerMove==computerMove?'Draw':'Invalid';
        }

        function game(playerMove) {
                
                const computerMove = computerPlay();
                computerMoveText.textContent = "Computer Move - " + computerMove;
                const result = declareWinner(playerMove, computerMove);
                return result;
                
        }

        function clickHandler(e) {
            if(playerWins<5 && computerWins<5){
                resultText.textContent = game(e.target.id.substring(6));
                rounds++;
                roundsText.textContent = "Round: " + rounds;
            };
            if(resultText.textContent.includes('Win') && playerWins<5 && computerWins<5) {
                playerWins++;
                playerWinsText.textContent = "Player: " + playerWins;
            } else if(resultText.textContent.includes('Lose') && playerWins<5 &&computerWins<5) {
                computerWins++;
                computerWinsText.textContent = "Computer: " +  computerWins;
            } 
            if(computerWins==5) {
                resultGlobalText.textContent = "Computer Wins the game";   
            } else if (playerWins==5) {
                resultGlobalText.textContent = "Player Wins the game";
            };

        } 

        function resetHandler(e) {
            

            playerWins = 0;
            computerWins = 0;
            rounds=0;

            playerWinsText.textContent = "Player: " + playerWins;
            computerWinsText.textContent = "Computer: " + computerWins;

            computerMoveText.textContent = "Select one";
            resultText.textContent = "Select one";
            resultGlobalText.textContent = "";
            roundsText.textContent = "Round: " + 1;

        }

        let playerWins = 0;
        let computerWins = 0;
        let rounds = 0;
        
        const resultText = document.querySelector('#result');
        const playerWinsText = document.querySelector('#playerWins');
        const resultGlobalText = document.querySelector('#resultGlobal');
        const computerWinsText = document.querySelector('#computerWins');
        const roundsText = document.querySelector('#rounds');
        const computerMoveText= document.querySelector('#computerMove');
        
        const btnRock = document.querySelector('#playerRock') ;
        const btnPaper = document.querySelector('#playerPaper')
        const btnScissors = document.querySelector('#playerScissors');
        const btnReset = document.querySelector('#reset');

        btnRock.addEventListener('click', clickHandler);
        btnPaper.addEventListener('click', clickHandler);
        btnScissors.addEventListener('click', clickHandler);
        btnReset.addEventListener('click', resetHandler);


    </script>
</body>
</html>


